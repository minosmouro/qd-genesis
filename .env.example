#############################################
# QuadraDois CRM - Environment Template     #
# Copie para .env e substitua os placeholders#
#############################################

# ========== OPÇÕES GERAIS ==========
# Opcional: defina uma versão para as imagens (default: latest)
VERSION=latest
TZ=America/Sao_Paulo

# ========== BANCO DE DADOS ==========
DATABASE_USER=CHANGE_ME_DB_USER
DATABASE_PASSWORD=CHANGE_ME_DB_PASSWORD
# Se a senha tiver caracteres especiais, gere a versão percent-encoded (ex: @ -> %40)
DATABASE_PASSWORD_URLENCODED=CHANGE_ME_DB_PASSWORD_URLENCODED
DATABASE_NAME=CHANGE_ME_DB_NAME
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD_URLENCODED:-${DATABASE_PASSWORD}}@postgres:5432/${DATABASE_NAME}

# ========== REDIS / CELERY ==========
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# ========== SECRETS ==========
# Gerar SECRET_KEY:    python -c "import secrets; print(secrets.token_urlsafe(64))"
# Gerar FERNET_KEY:    python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SECRET_KEY=CHANGE_ME_SECRET_KEY_64_CHARS
FERNET_KEY=CHANGE_ME_FERNET_KEY

# ========== AWS S3 ==========
AWS_ACCESS_KEY_ID=CHANGE_ME_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_ME_AWS_SECRET_KEY
AWS_S3_REGION=us-east-2
AWS_S3_BUCKET_NAME=CHANGE_ME_AWS_BUCKET

# ========== CORS / FRONTENDS ==========
# Adicione domínios separados por vírgula
CORS_ORIGINS=https://app.example.com,https://crm.example.com,https://api.example.com
FRONTEND_VITE_API_URL=https://api.example.com
BUSINESS_CENTER_VITE_API_URL=https://api.example.com

# ========== FLASK ==========
FLASK_ENV=production
FLASK_DEBUG=False

# ========== FILA DE REFRESH ==========
REFRESH_QUEUE_MAX_BATCH_SIZE=30
REFRESH_QUEUE_TIMEOUT_SECONDS=300
REFRESH_QUEUE_MAX_RETRIES=3

# ========== CELERY ==========
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ========== FLASK ==========
FLASK_ENV=development
FLASK_DEBUG=True

# ========== QUEUE CONFIGURATION ==========
REFRESH_QUEUE_MAX_BATCH_SIZE=30
REFRESH_QUEUE_TIMEOUT_SECONDS=300
REFRESH_QUEUE_MAX_RETRIES=3

# ========== CANALPRO (FALLBACK OPCIONAL) ==========
# Deixe vazio para forçar configuração por tenant
GANDALF_PUBLISHER_ID=
GANDALF_ODIN_ID=
GANDALF_CONTRACT_ID=
GANDALF_CLIENT_ID=CANALPRO_WEB
